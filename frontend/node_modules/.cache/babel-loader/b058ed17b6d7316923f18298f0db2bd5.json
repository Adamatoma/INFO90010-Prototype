{"ast":null,"code":"var _jsxFileName = \"/Users/panyutong/Desktop/\\u5B66\\u4E60/INFO90010 IT project/prototype/INFO90010-Prototype/frontend/src/pages/priceComparison.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { withGoogleMap, withScriptjs, GoogleMap, Marker, InfoWindow } from \"react-google-maps\";\nimport Navbar from \"../components/Navbar\";\nimport logo from '../icons/Home.png';\nimport './priceComparison.css';\nimport * as propertyData from \"../components/skateboard-parks.json\";\nimport Background from '../icons/background.png';\n\nfunction Map() {\n  const [selectedProperty, setselectedProperty] = useState(null);\n  useEffect(() => {\n    const listener = e => {\n      if (e.key === \"Escape\") {\n        setselectedProperty(null);\n      }\n    };\n\n    window.addEventListener(\"keydown\", listener);\n    return () => {\n      window.removeEventListener(\"keydown\", listener);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(GoogleMap, {\n    defaultZoom: 16,\n    defaultCenter: {\n      lat: -37.807695,\n      lng: 144.961434\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, propertyData.features.map(park => /*#__PURE__*/React.createElement(Marker, {\n    key: park.properties.PARK_ID,\n    position: {\n      lat: park.geometry.coordinates[1],\n      lng: park.geometry.coordinates[0]\n    },\n    onClick: () => {\n      setselectedProperty(park);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  })), selectedProperty && /*#__PURE__*/React.createElement(InfoWindow, {\n    onCloseClick: () => {\n      setselectedProperty(null);\n    },\n    position: {\n      lat: selectedProperty.geometry.coordinates[1],\n      lng: selectedProperty.geometry.coordinates[0]\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, selectedProperty.properties.NAME), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, selectedProperty.properties.DESCRIPTIO))));\n}\n\nvar backgroundStyle = {\n  backgroundSize: 'cover',\n  height: \"300px\",\n  backgroundRepeat: 'no-repeat',\n  opacity: '0.3',\n  backgroundImage: `url(${Background})`\n};\n\nclass PriceComparison extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pc: []\n    };\n  }\n\n  callAPI() {\n    fetch(\"http://localhost:3000/priceComparison\").then(res => res.json()).then(res => this.setState({\n      pc: res.data\n    })).catch(err => console.error(err));\n  }\n\n  componentDidMount() {\n    this.callAPI();\n  }\n\n  render() {\n    // var result = this.state.pc;\n    // var numOfResult = result.length;\n    // console.log(result);\n    const MapWrapped = withScriptjs(withGoogleMap(Map));\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"logo\",\n      src: logo,\n      alt: \"Logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, \"AusNewRenters\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-box\",\n      style: backgroundStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"map-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, \"map\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"906px\",\n        height: \"458px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MapWrapped, {\n      googleMapURL: `https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=${process.env.REACT_APP_GOOGLE_KEY}&language=en-AU`,\n      loadingElement: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: `100%`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 31\n        }\n      }),\n      containerElement: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: `100%`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 33\n        }\n      }),\n      mapElement: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: `100%`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 27\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default PriceComparison;","map":{"version":3,"sources":["/Users/panyutong/Desktop/学习/INFO90010 IT project/prototype/INFO90010-Prototype/frontend/src/pages/priceComparison.js"],"names":["React","useState","useEffect","withGoogleMap","withScriptjs","GoogleMap","Marker","InfoWindow","Navbar","logo","propertyData","Background","Map","selectedProperty","setselectedProperty","listener","e","key","window","addEventListener","removeEventListener","lat","lng","features","map","park","properties","PARK_ID","geometry","coordinates","NAME","DESCRIPTIO","backgroundStyle","backgroundSize","height","backgroundRepeat","opacity","backgroundImage","PriceComparison","Component","constructor","props","state","pc","callAPI","fetch","then","res","json","setState","data","catch","err","console","error","componentDidMount","render","MapWrapped","width","process","env","REACT_APP_GOOGLE_KEY"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  withGoogleMap,\n  withScriptjs,\n  GoogleMap,\n  Marker,\n  InfoWindow\n} from \"react-google-maps\";\nimport Navbar from \"../components/Navbar\";\nimport logo from '../icons/Home.png';\nimport './priceComparison.css';\nimport * as propertyData from \"../components/skateboard-parks.json\";\nimport Background from '../icons/background.png';\n\nfunction Map() {\n  const [selectedProperty, setselectedProperty] = useState(null);\n\n  useEffect(() => {\n    const listener = e => {\n      if (e.key === \"Escape\") {\n        setselectedProperty(null);\n      }\n    };\n    window.addEventListener(\"keydown\", listener);\n\n    return () => {\n      window.removeEventListener(\"keydown\", listener);\n    };\n  }, []);\n\n  return (\n    <GoogleMap\n      defaultZoom={16}\n      defaultCenter={{ lat: -37.807695, lng: 144.961434 }}\n    >\n      {propertyData.features.map(park => (\n        <Marker\n          key={park.properties.PARK_ID}\n          position={{\n            lat: park.geometry.coordinates[1],\n            lng: park.geometry.coordinates[0]\n          }}\n          onClick={() => {\n            setselectedProperty(park);\n          }}\n        />\n      ))}\n\n      {selectedProperty && (\n        <InfoWindow\n          onCloseClick={() => {\n            setselectedProperty(null);\n          }}\n          position={{\n            lat: selectedProperty.geometry.coordinates[1],\n            lng: selectedProperty.geometry.coordinates[0]\n          }}\n        >\n          <div>\n            <h2>{selectedProperty.properties.NAME}</h2>\n            <p>{selectedProperty.properties.DESCRIPTIO}</p>\n          </div>\n        </InfoWindow>\n      )}\n    </GoogleMap>\n  );\n}\n\nvar backgroundStyle = {\n  backgroundSize: 'cover',\n  height: \"300px\",\n  backgroundRepeat: 'no-repeat',\n  opacity: '0.3',\n  backgroundImage: `url(${Background})`\n\n};\n\nclass PriceComparison extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { pc: [] };\n  }\n\n\n  callAPI() {\n    fetch(\"http://localhost:3000/priceComparison\")\n      .then(res => res.json())\n      .then(res => this.setState({ pc: res.data }))\n      .catch(err => console.error(err))\n  }\n\n  componentDidMount() {\n    this.callAPI();\n\n  }\n\n  render() {\n    // var result = this.state.pc;\n    // var numOfResult = result.length;\n    // console.log(result);\n    const MapWrapped = withScriptjs(withGoogleMap(Map));\n\n    return (\n      <>\n        <div className=\"heading\">\n          <img className=\"logo\" src={logo} alt=\"Logo\" />\n          <h4 className=\"name\">AusNewRenters</h4>\n        </div>\n\n        <div className=\"sidebar\">\n          <Navbar />\n        </div>\n        <div className=\"text-box\" style={backgroundStyle}></div>\n        <div className=\"map-container\">\n          <p>map</p>\n          <div style={{ width: \"906px\", height: \"458px\" }}>\n            <MapWrapped\n              googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=${\n                process.env.REACT_APP_GOOGLE_KEY\n                }&language=en-AU`}\n              loadingElement={<div style={{ height: `100%` }} />}\n              containerElement={<div style={{ height: `100%` }} />}\n              mapElement={<div style={{ height: `100%` }} />}\n            />\n          </div>\n          <div>\n            {/* <ul className=\"items\">\n              {result.sort((a, b) => a.Current_Star > b.Current_Star ? -1 : 1)\n                .map((item, index) => {\n                  return (\n                    <li key={index} className=\"item\">\n                      <div className=\"item-start\">\n                        <h4 className=\"item-title\"> {item.Title} </h4>\n                        <h6 className=\"item-rating\"> {item.Current_Star}</h6>\n                        <img className=\"item-star\" src={star} alt=\"Star\" />\n                      </div>\n                      <div style={{ fontSize: '9px', color: '#7f7f7f' }}>Source: {item.Source_Name}</div>\n                      <p className=\"item-content\"> {item.Content}</p>\n                      <div style={{ fontSize: '9px', color: '#7f7f7f' }}>{item.Source_Link}</div>\n                    </li>\n                  )\n                })}\n            </ul> */}\n          </div>\n        </div>\n      </>\n\n    );\n  }\n}\n\nexport default PriceComparison;"]},"metadata":{},"sourceType":"module"}